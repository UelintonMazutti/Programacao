<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercícios Avançados</title>
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.css" rel="stylesheet" />
    <style>
        body {
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        h1, h2, h3 {
            color: #2c3e50;
        }

        pre {
            background-color: #272822;
            color: #f8f8f2;
            padding: 12px;
            border-radius: 5px;
            overflow-x: auto;
        }

        code {
            font-family: "Courier New", monospace;
            color: #f92672;
        }

        .page-break {
            page-break-after: always;
        }

        .full-page {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 25vh;
            font-size: 36px;
            font-weight: bold;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        table, th, td {
            border: 1px solid #ddd;
        }

        th, td {
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }

        hr {
            border: 0;
            height: 1px;
            background-color: #ccc;
            margin: 30px 0;
        }

        .password-container {
            margin-bottom: 15px;
        }

        .exercise-code {
            display: none;
        }
    </style>
</head>
<body>

    <div class="page-break" style="page-break-before: always;"></div>

    <div class="full-page">
        Exercícios Avançados
    </div>

    <h1>Curso de Lógica de Programação com Linguagem C</h1>

    <hr>

    <h3>1. Jogo de Adivinhação com Dicas Matemáticas</h3>
    <p>Crie um jogo onde o computador sorteia um número entre 1-100 e o jogador deve adivinhar. A cada tentativa, o programa fornece dicas matemáticas.</p>
    <div class="password-container">
        <input type="password" id="password1" placeholder="Digite a senha para ver o código"
        onkeydown="handleEnter(event, 'code1', 'password1', this.nextElementSibling)" />
        <button onclick="toggleCode('code1', 'password1', this)">Mostrar Código</button>
    </div>
    <pre class="language-c exercise-code" id="code1" style="display: none;"><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;
#include &lt;math.h&gt;
#include &lt;stdbool.h&gt;

bool eh_primo(int n) {
    if (n <= 1) return false;
    for (int i = 2; i <= sqrt(n); i++) {
        if (n % i == 0) return false;
    }
    return true;
}

void dar_dica(int numero, int palpite) {
    if (palpite < numero) printf("Maior que %d. ", palpite);
    else printf("Menor que %d. ", palpite);
    
    if (abs(numero - palpite) <= 5) printf("Está perto! ");
    if (numero % 2 == 0) printf("É par. ");
    else printf("É ímpar. ");
    if (eh_primo(numero)) printf("É primo. ");
    if (numero % 3 == 0) printf("Múltiplo de 3. ");
    if (numero % 5 == 0) printf("Múltiplo de 5. ");
    
    printf("\n");
}

int main() {
    srand(time(NULL));
    int numero = rand() % 100 + 1;
    int palpite, tentativas = 0;
    
    printf("Jogo de Adivinhação (1-100)!\n");
    
    do {
        printf("Seu palpite: ");
        scanf("%d", &palpite);
        tentativas++;
        
        if (palpite != numero) dar_dica(numero, palpite);
    } while (palpite != numero);
    
    printf("Acertou em %d tentativas!\n", tentativas);
    return 0;
}</code></pre>

    <div class="page-break"></div>

    <h3>2. Simulador de Lançamento de Foguete</h3>
    <p>Simule o lançamento de um foguete com física básica (aceleração, gravidade, combustível).</p>
    <div class="password-container">
        <input type="password" id="password2" placeholder="Digite a senha para ver o código"
        onkeydown="handleEnter(event, 'code2', 'password2', this.nextElementSibling)" />
        <button onclick="toggleCode('code2', 'password2', this)">Mostrar Código</button>
    </div>
    <pre class="language-c exercise-code" id="code2" style="display: none;"><code>#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
#include &lt;unistd.h&gt;

#define GRAVIDADE 9.81
#define IMPULSO_MAX 20
#define COMBUSTIVEL_INICIAL 100
#define CONSUMO 0.5

void mostrar_foguete(double altura) {
    int alt_int = (int)(altura / 10);
    if (alt_int > 20) alt_int = 20;
    
    printf("\n\n\n");
    for (int i = 20; i >= 0; i--) {
        if (i == alt_int) printf("   /\\\n  /  \\\n /____\\\n");
        else printf("\n");
    }
    printf("Altitude: %.1f metros\n", altura);
}

int main() {
    double altura = 0, velocidade = 0;
    double combustivel = COMBUSTIVEL_INICIAL;
    int impulso;
    
    printf("SIMULADOR DE FOGUETE\n");
    
    while (altura >= 0) {
        printf("\nCombustível: %.1f%% | Velocidade: %.1f m/s\n", combustivel, velocidade);
        printf("Digite o impulso (0-%d): ", IMPULSO_MAX);
        scanf("%d", &impulso);
        
        if (impulso < 0) impulso = 0;
        if (impulso > IMPULSO_MAX) impulso = IMPULSO_MAX;
        
        if (combustivel > 0) {
            double aceleracao = impulso - GRAVIDADE;
            velocidade += aceleracao * 0.5;
            altura += velocidade * 0.5;
            combustivel -= impulso * CONSUMO;
            if (combustivel < 0) combustivel = 0;
        } else {
            double aceleracao = -GRAVIDADE;
            velocidade += aceleracao * 0.5;
            altura += velocidade * 0.5;
        }
        
        mostrar_foguete(altura);
        
        if (altura > 500) {
            printf("\nPARABÉNS! Órbita alcançada!\n");
            break;
        }
        
        usleep(500000);
    }
    
    if (altura <= 0) printf("\nFoguete destruído!\n");
    return 0;
}</code></pre>

    <div class="page-break"></div>

    <h3>3. Gerador de Senhas Seguras</h3>
    <p>Crie um programa que gera senhas seguras com opções de personalização.</p>
    <div class="password-container">
        <input type="password" id="password3" placeholder="Digite a senha para ver o código"
        onkeydown="handleEnter(event, 'code3', 'password3', this.nextElementSibling)" />
        <button onclick="toggleCode('code3', 'password3', this)">Mostrar Código</button>
    </div>
    <pre class="language-c exercise-code" id="code3" style="display: none;"><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;
#include &lt;string.h&gt;
#include &lt;math.h&gt;

void gerar_senha(char *senha, int tamanho, int incluir_numeros, int incluir_simbolos) {
    const char letras[] = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
    const char numeros[] = "0123456789";
    const char simbolos[] = "!@#$%^&*()";
    
    char possibilidades[100] = "";
    strcat(possibilidades, letras);
    if (incluir_numeros) strcat(possibilidades, numeros);
    if (incluir_simbolos) strcat(possibilidades, simbolos);
    
    int total = strlen(possibilidades);
    for (int i = 0; i < tamanho; i++) {
        senha[i] = possibilidades[rand() % total];
    }
    senha[tamanho] = '\0';
}

int main() {
    srand(time(NULL));
    int tamanho, incluir_numeros, incluir_simbolos;
    char senha[50];
    
    printf("=== GERADOR DE SENHAS ===\n");
    printf("Tamanho: ");
    scanf("%d", &tamanho);
    printf("Incluir números? (1-Sim, 0-Não): ");
    scanf("%d", &incluir_numeros);
    printf("Incluir símbolos? (1-Sim, 0-Não): ");
    scanf("%d", &incluir_simbolos);
    
    gerar_senha(senha, tamanho, incluir_numeros, incluir_simbolos);
    
    printf("\nSenha: %s\n", senha);
    printf("Força: ");
    
    int possibilidades = 52;
    if (incluir_numeros) possibilidades += 10;
    if (incluir_simbolos) possibilidades += 10;
    
    double combinacoes = pow(possibilidades, tamanho);
    if (combinacoes > 1e12) printf("Muito Forte (%.0e combinações)\n", combinacoes);
    else if (combinacoes > 1e6) printf("Forte (%.0e combinações)\n", combinacoes);
    else printf("Fraca (%.0e combinações)\n", combinacoes);
    
    return 0;
}</code></pre>

    <div class="page-break"></div>

    <h3>4. Jogo da Velha com IA Básica</h3>
    <p>Implemente o jogo da velha onde o jogador enfrenta o computador.</p>
    <div class="password-container">
        <input type="password" id="password4" placeholder="Digite a senha para ver o código"
        onkeydown="handleEnter(event, 'code4', 'password4', this.nextElementSibling)" />
        <button onclick="toggleCode('code4', 'password4', this)">Mostrar Código</button>
    </div>
    <pre class="language-c exercise-code" id="code4" style="display: none;"><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;

void mostrar_tabuleiro(char tabuleiro[3][3]) {
    printf("\n");
    for (int i = 0; i < 3; i++) {
        printf(" %c | %c | %c \n", tabuleiro[i][0], tabuleiro[i][1], tabuleiro[i][2]);
        if (i < 2) printf("---|---|---\n");
    }
    printf("\n");
}

int verificar_vencedor(char tabuleiro[3][3]) {
    for (int i = 0; i < 3; i++) {
        if (tabuleiro[i][0] != ' ' && tabuleiro[i][0] == tabuleiro[i][1] && tabuleiro[i][1] == tabuleiro[i][2])
            return 1;
        if (tabuleiro[0][i] != ' ' && tabuleiro[0][i] == tabuleiro[1][i] && tabuleiro[1][i] == tabuleiro[2][i])
            return 1;
    }
    
    if (tabuleiro[0][0] != ' ' && tabuleiro[0][0] == tabuleiro[1][1] && tabuleiro[1][1] == tabuleiro[2][2])
        return 1;
    if (tabuleiro[0][2] != ' ' && tabuleiro[0][2] == tabuleiro[1][1] && tabuleiro[1][1] == tabuleiro[2][0])
        return 1;
    
    return 0;
}

void jogada_computador(char tabuleiro[3][3]) {
    int x, y;
    do {
        x = rand() % 3;
        y = rand() % 3;
    } while (tabuleiro[x][y] != ' ');
    tabuleiro[x][y] = 'O';
}

int main() {
    srand(time(NULL));
    char tabuleiro[3][3] = {{' ', ' ', ' '}, {' ', ' ', ' '}, {' ', ' ', ' '}};
    int x, y, jogadas = 0;
    
    printf("=== JOGO DA VELHA ===\n");
    
    while (jogadas < 9) {
        mostrar_tabuleiro(tabuleiro);
        
        printf("Sua jogada (linha coluna 1-3): ");
        scanf("%d %d", &x, &y);
        x--; y--;
        
        if (x < 0 || x > 2 || y < 0 || y > 2 || tabuleiro[x][y] != ' ') {
            printf("Jogada inválida!\n");
            continue;
        }
        
        tabuleiro[x][y] = 'X';
        jogadas++;
        
        if (verificar_vencedor(tabuleiro)) {
            mostrar_tabuleiro(tabuleiro);
            printf("Você venceu!\n");
            return 0;
        }
        
        if (jogadas < 9) {
            jogada_computador(tabuleiro);
            jogadas++;
            
            if (verificar_vencedor(tabuleiro)) {
                mostrar_tabuleiro(tabuleiro);
                printf("Computador venceu!\n");
                return 0;
            }
        }
    }
    
    mostrar_tabuleiro(tabuleiro);
    printf("Empate!\n");
    return 0;
}</code></pre>

    <div class="page-break"></div>

    <h3>5. Validador de CPF e CNPJ</h3>
    <p>Implemente um programa que valida números de CPF e CNPJ de acordo com as regras oficiais.</p>
    <div class="password-container">
        <input type="password" id="password5" placeholder="Digite a senha para ver o código"
        onkeydown="handleEnter(event, 'code5', 'password5', this.nextElementSibling)" />
        <button onclick="toggleCode('code5', 'password5', this)">Mostrar Código</button>
    </div>
    <pre class="language-c exercise-code" id="code5" style="display: none;"><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;ctype.h&gt;

int validar_cpf(const char *cpf) {
    int i, j, digito1 = 0, digito2 = 0;
    int pesos1[] = {10, 9, 8, 7, 6, 5, 4, 3, 2};
    int pesos2[] = {11, 10, 9, 8, 7, 6, 5, 4, 3, 2};
    
    // Verificar se todos os dígitos são iguais
    int todos_iguais = 1;
    for (i = 1; i < 11; i++) {
        if (cpf[i] != cpf[0]) {
            todos_iguais = 0;
            break;
        }
    }
    if (todos_iguais) return 0;
    
    // Calcular primeiro dígito verificador
    for (i = 0; i < 9; i++) {
        digito1 += (cpf[i] - '0') * pesos1[i];
    }
    digito1 = 11 - (digito1 % 11);
    if (digito1 >= 10) digito1 = 0;
    
    // Verificar primeiro dígito
    if (digito1 != (cpf[9] - '0')) return 0;
    
    // Calcular segundo dígito verificador
    for (i = 0; i < 10; i++) {
        digito2 += (cpf[i] - '0') * pesos2[i];
    }
    digito2 = 11 - (digito2 % 11);
    if (digito2 >= 10) digito2 = 0;
    
    // Verificar segundo dígito
    if (digito2 != (cpf[10] - '0')) return 0;
    
    return 1;
}

int validar_cnpj(const char *cnpj) {
    int i, digito1 = 0, digito2 = 0;
    int pesos1[] = {5, 4, 3, 2, 9, 8, 7, 6, 5, 4, 3, 2};
    int pesos2[] = {6, 5, 4, 3, 2, 9, 8, 7, 6, 5, 4, 3, 2};
    
    // Verificar se todos os dígitos são iguais
    int todos_iguais = 1;
    for (i = 1; i < 14; i++) {
        if (cnpj[i] != cnpj[0]) {
            todos_iguais = 0;
            break;
        }
    }
    if (todos_iguais) return 0;
    
    // Calcular primeiro dígito verificador
    for (i = 0; i < 12; i++) {
        digito1 += (cnpj[i] - '0') * pesos1[i];
    }
    digito1 = 11 - (digito1 % 11);
    if (digito1 >= 10) digito1 = 0;
    
    // Verificar primeiro dígito
    if (digito1 != (cnpj[12] - '0')) return 0;
    
    // Calcular segundo dígito verificador
    for (i = 0; i < 13; i++) {
        digito2 += (cnpj[i] - '0') * pesos2[i];
    }
    digito2 = 11 - (digito2 % 11);
    if (digito2 >= 10) digito2 = 0;
    
    // Verificar segundo dígito
    if (digito2 != (cnpj[13] - '0')) return 0;
    
    return 1;
}

void remover_formatacao(char *documento) {
    char temp[20];
    int i, j = 0;
    
    for (i = 0; documento[i] != '\0'; i++) {
        if (isdigit(documento[i])) {
            temp[j++] = documento[i];
        }
    }
    temp[j] = '\0';
    strcpy(documento, temp);
}

int main() {
    char documento[20];
    int tipo;
    
    printf("=== VALIDADOR DE DOCUMENTOS ===\n");
    printf("Digite 1 para CPF ou 2 para CNPJ: ");
    scanf("%d", &tipo);
    printf("Digite o documento (com ou sem formatação): ");
    scanf("%s", documento);
    
    remover_formatacao(documento);
    
    if (tipo == 1) {
        if (strlen(documento) != 11) {
            printf("CPF deve ter 11 dígitos.\n");
            return 1;
        }
        
        if (validar_cpf(documento)) {
            printf("CPF válido!\n");
        } else {
            printf("CPF inválido!\n");
        }
    } else if (tipo == 2) {
        if (strlen(documento) != 14) {
            printf("CNPJ deve ter 14 dígitos.\n");
            return 1;
        }
        
        if (validar_cnpj(documento)) {
            printf("CNPJ válido!\n");
        } else {
            printf("CNPJ inválido!\n");
        }
    } else {
        printf("Opção inválida!\n");
        return 1;
    }
    
    return 0;
}</code></pre>

    <script>
        function toggleCode(codeId, passwordId, button) {
            const senhaInput = document.getElementById(passwordId);
            const senha = senhaInput.value;
            const codeBlock = document.getElementById(codeId);
        
            if (senha === "jumper") {
                if (codeBlock.style.display === "none") {
                    codeBlock.style.display = "block";
                    button.textContent = "Ocultar Código";
                } else {
                    codeBlock.style.display = "none";
                    senhaInput.value = "";
                    button.textContent = "Mostrar Código";
                }
            } else {
                alert("Senha incorreta!");
            }
        }
        
        function handleEnter(event, codeId, passwordId, button) {
            if (event.key === "Enter") {
                toggleCode(codeId, passwordId, button);
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-c.min.js"></script>
</body>
</html>